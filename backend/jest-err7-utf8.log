node.exe : PASS src/uploads/uploads.controller.spec.ts
At C:\Users\Hassa\AppData\Roaming\npm\npx.ps1:24 char:5
+     & "node$exe"  "$basedir/node_modules/npm/bin/npx-cli.js" $args
+     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : NotSpecified: (PASS src/upload...troller.spec.ts:Strin 
   g) [], RemoteException
    + FullyQualifiedErrorId : NativeCommandError
 
[31m[Nest] 7320  - [39m02/23/2026, 9:21:07 AM [31m  ERROR[39m 
[38;5;3m[NotificationService] [39m[31mExpo push send failed for recipient u1: 400 
Bad Request[39m
[31m[Nest] 7320  - [39m02/23/2026, 9:21:07 AM [31m  ERROR[39m 
[38;5;3m[NotificationService] [39m[31mExpo push send threw for recipient u1: 
Network timeout[39m
PASS src/notifications/notifications.service.spec.ts
PASS src/users/users.service.spec.ts
FAIL src/users/users.controller.spec.ts
  ΓùÅ UsersController ΓÇ║ updateSettings ΓÇ║ delegates to usersService.updateSettings

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    - Expected
    + Received

      "u1",
      Object {
    +   "biometricEnabled": false,
    +   "currency": "INR",
    +   "darkMode": true,
    +   "language": "en",
    +   "notifications": Object {
    +     "approvalReminders": true,
    +     "emailEnabled": true,
    +     "pushEnabled": true,
    +     "reportAlerts": true,
    +   },
        "theme": "dark",
      },

    Number of calls: 1

    [0m [90m 49 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m 
controller[33m.[39mupdateSettings({ user[33m:[39m mockUser }[33m,[39m 
dto)[33m;[39m
     [90m 50 |[39m
    [31m[1m>[22m[39m[90m 51 |[39m       expect(mockUsersService[33m.[39mupdat
eSettings)[33m.[39mtoHaveBeenCalledWith([32m'u1'[39m[33m,[39m dto)[33m;[39m
     [90m    |[39m                                               
[31m[1m^[22m[39m
     [90m 52 |[39m       expect(result)[33m.[39mtoEqual({ _id[33m:[39m 
[32m'u1'[39m[33m,[39m settings[33m:[39m dto })[33m;[39m
     [90m 53 |[39m     })[33m;[39m
     [90m 54 |[39m   })[33m;[39m[0m

      at Object.<anonymous> (users/users.controller.spec.ts:51:47)

PASS src/app.controller.spec.ts
PASS src/admin/admin.service.spec.ts
PASS src/projects/projects.service.spec.ts
PASS src/finance/finance.service.spec.ts
PASS src/modifications/modifications.controller.spec.ts
PASS src/admin/admin.controller.spec.ts
PASS src/auth/auth.service.spec.ts
PASS src/finance/finance.controller.spec.ts
PASS src/projects/projects.controller.spec.ts
PASS src/auth/auth.controller.spec.ts
PASS src/modifications/modifications.service.spec.ts

Test Suites: 1 failed, 14 passed, 15 total
Tests:       1 failed, 132 passed, 133 total
Snapshots:   0 total
Time:        6.192 s, estimated 9 s
Ran all test suites matching src.
